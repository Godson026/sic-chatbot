{"ast":null,"code":"import React,{useState}from'react';import{UserIcon}from'@heroicons/react/24/solid';import Avatar from'./Avatar';import QuoteForm from'./QuoteForm';import ClaimForm from'./ClaimForm';import PaymentForm from'./PaymentForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Message=_ref=>{let{message}=_ref;const isUser=message.sender==='user';const[showForm,setShowForm]=useState(true);const[quoteResult,setQuoteResult]=useState(null);const[claimId,setClaimId]=useState(null);const[paymentComplete,setPaymentComplete]=useState(false);const handleQuoteSubmit=quote=>{setQuoteResult(quote);setShowForm(false);};const handleClaimSubmit=id=>{setClaimId(id);setShowForm(false);};const handlePaymentSubmit=()=>{setPaymentComplete(true);setShowForm(false);};const renderForm=()=>{var _message$metadata,_message$metadata2,_message$metadata3;if(!showForm)return null;switch(message.type){case'form':if(((_message$metadata=message.metadata)===null||_message$metadata===void 0?void 0:_message$metadata.formType)==='quote'){return/*#__PURE__*/_jsx(QuoteForm,{onSubmit:handleQuoteSubmit,onCancel:()=>setShowForm(false)});}if(((_message$metadata2=message.metadata)===null||_message$metadata2===void 0?void 0:_message$metadata2.formType)==='claim'){return/*#__PURE__*/_jsx(ClaimForm,{onSubmit:handleClaimSubmit,onCancel:()=>setShowForm(false)});}break;case'payment':return/*#__PURE__*/_jsx(PaymentForm,{amount:((_message$metadata3=message.metadata)===null||_message$metadata3===void 0?void 0:_message$metadata3.amount)||0,onSubmit:handlePaymentSubmit,onCancel:()=>setShowForm(false)});break;}return null;};const renderResult=()=>{if(showForm)return null;if(quoteResult!==null){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800\",children:\"Your Insurance Quote\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600\",children:[\"Estimated Premium: GHS \",quoteResult.toFixed(2),\" per month\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-500 mt-2\",children:\"This is an estimate. Final premium may vary based on additional factors.\"})]});}if(claimId){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800\",children:\"Claim Submitted Successfully\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600\",children:[\"Claim Reference: \",claimId]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-500 mt-2\",children:\"You can track your claim status using this reference number.\"})]});}if(paymentComplete){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800\",children:\"Payment Successful\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600\",children:\"Your payment has been processed.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-500 mt-2\",children:\"A confirmation email will be sent to your registered email address.\"})]});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:`flex items-start gap-2 ${isUser?'justify-end':'justify-start'} mb-4`,children:[!isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10\",children:/*#__PURE__*/_jsx(Avatar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:`max-w-[70%] ${isUser?'sic-bg-primary text-white':'bg-white text-gray-800 border border-gray-200'} rounded-lg p-3 shadow-sm`,children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm whitespace-pre-wrap\",children:message.content}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-70 mt-1 block\",children:message.timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})}),renderForm(),renderResult()]}),isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full sic-bg-orange flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserIcon,{className:\"w-5 h-5 text-white\"})})]});};export default Message;","map":{"version":3,"names":["React","useState","UserIcon","Avatar","QuoteForm","ClaimForm","PaymentForm","jsx","_jsx","jsxs","_jsxs","Message","_ref","message","isUser","sender","showForm","setShowForm","quoteResult","setQuoteResult","claimId","setClaimId","paymentComplete","setPaymentComplete","handleQuoteSubmit","quote","handleClaimSubmit","id","handlePaymentSubmit","renderForm","_message$metadata","_message$metadata2","_message$metadata3","type","metadata","formType","onSubmit","onCancel","amount","renderResult","className","children","toFixed","content","timestamp","toLocaleTimeString","hour","minute"],"sources":["C:/Users/Godso/new sic app/src/components/Message.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Message as MessageType } from '../types';\r\nimport { UserIcon } from '@heroicons/react/24/solid';\r\nimport Avatar from './Avatar';\r\nimport QuoteForm from './QuoteForm';\r\nimport ClaimForm from './ClaimForm';\r\nimport PaymentForm from './PaymentForm';\r\n\r\ninterface MessageProps {\r\n  message: MessageType;\r\n}\r\n\r\nconst Message: React.FC<MessageProps> = ({ message }) => {\r\n  const isUser = message.sender === 'user';\r\n  const [showForm, setShowForm] = useState(true);\r\n  const [quoteResult, setQuoteResult] = useState<number | null>(null);\r\n  const [claimId, setClaimId] = useState<string | null>(null);\r\n  const [paymentComplete, setPaymentComplete] = useState(false);\r\n\r\n  const handleQuoteSubmit = (quote: number) => {\r\n    setQuoteResult(quote);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleClaimSubmit = (id: string) => {\r\n    setClaimId(id);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handlePaymentSubmit = () => {\r\n    setPaymentComplete(true);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const renderForm = () => {\r\n    if (!showForm) return null;\r\n\r\n    switch (message.type) {\r\n      case 'form':\r\n        if (message.metadata?.formType === 'quote') {\r\n          return (\r\n            <QuoteForm\r\n              onSubmit={handleQuoteSubmit}\r\n              onCancel={() => setShowForm(false)}\r\n            />\r\n          );\r\n        }\r\n        if (message.metadata?.formType === 'claim') {\r\n          return (\r\n            <ClaimForm\r\n              onSubmit={handleClaimSubmit}\r\n              onCancel={() => setShowForm(false)}\r\n            />\r\n          );\r\n        }\r\n        break;\r\n      case 'payment':\r\n        return (\r\n          <PaymentForm\r\n            amount={message.metadata?.amount || 0}\r\n            onSubmit={handlePaymentSubmit}\r\n            onCancel={() => setShowForm(false)}\r\n          />\r\n        );\r\n        break;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderResult = () => {\r\n    if (showForm) return null;\r\n\r\n    if (quoteResult !== null) {\r\n      return (\r\n        <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <h4 className=\"font-medium text-green-800\">Your Insurance Quote</h4>\r\n          <p className=\"text-green-600\">Estimated Premium: GHS {quoteResult.toFixed(2)} per month</p>\r\n          <p className=\"text-sm text-green-500 mt-2\">\r\n            This is an estimate. Final premium may vary based on additional factors.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (claimId) {\r\n      return (\r\n        <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <h4 className=\"font-medium text-green-800\">Claim Submitted Successfully</h4>\r\n          <p className=\"text-green-600\">Claim Reference: {claimId}</p>\r\n          <p className=\"text-sm text-green-500 mt-2\">\r\n            You can track your claim status using this reference number.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (paymentComplete) {\r\n      return (\r\n        <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <h4 className=\"font-medium text-green-800\">Payment Successful</h4>\r\n          <p className=\"text-green-600\">Your payment has been processed.</p>\r\n          <p className=\"text-sm text-green-500 mt-2\">\r\n            A confirmation email will be sent to your registered email address.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-start gap-2 ${isUser ? 'justify-end' : 'justify-start'} mb-4`}>\r\n      {!isUser && (\r\n        <div className=\"w-10 h-10\">\r\n          <Avatar />\r\n        </div>\r\n      )}\r\n      <div \r\n        className={`max-w-[70%] ${isUser ? 'sic-bg-primary text-white' : 'bg-white text-gray-800 border border-gray-200'} rounded-lg p-3 shadow-sm`}\r\n      >\r\n        <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\r\n        <span className=\"text-xs opacity-70 mt-1 block\">\r\n          {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n        </span>\r\n        {renderForm()}\r\n        {renderResult()}\r\n      </div>\r\n      {isUser && (\r\n        <div className=\"w-8 h-8 rounded-full sic-bg-orange flex items-center justify-center\">\r\n          <UserIcon className=\"w-5 h-5 text-white\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,QAAQ,KAAQ,2BAA2B,CACpD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAMxC,KAAM,CAAAC,OAA+B,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAClD,KAAM,CAAAE,MAAM,CAAGD,OAAO,CAACE,MAAM,GAAK,MAAM,CACxC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAgB,IAAI,CAAC,CACnE,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAgB,IAAI,CAAC,CAC3D,KAAM,CAACqB,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE7D,KAAM,CAAAuB,iBAAiB,CAAIC,KAAa,EAAK,CAC3CN,cAAc,CAACM,KAAK,CAAC,CACrBR,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAS,iBAAiB,CAAIC,EAAU,EAAK,CACxCN,UAAU,CAACM,EAAE,CAAC,CACdV,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAW,mBAAmB,CAAGA,CAAA,GAAM,CAChCL,kBAAkB,CAAC,IAAI,CAAC,CACxBN,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAY,UAAU,CAAGA,CAAA,GAAM,KAAAC,iBAAA,CAAAC,kBAAA,CAAAC,kBAAA,CACvB,GAAI,CAAChB,QAAQ,CAAE,MAAO,KAAI,CAE1B,OAAQH,OAAO,CAACoB,IAAI,EAClB,IAAK,MAAM,CACT,GAAI,EAAAH,iBAAA,CAAAjB,OAAO,CAACqB,QAAQ,UAAAJ,iBAAA,iBAAhBA,iBAAA,CAAkBK,QAAQ,IAAK,OAAO,CAAE,CAC1C,mBACE3B,IAAA,CAACJ,SAAS,EACRgC,QAAQ,CAAEZ,iBAAkB,CAC5Ba,QAAQ,CAAEA,CAAA,GAAMpB,WAAW,CAAC,KAAK,CAAE,CACpC,CAAC,CAEN,CACA,GAAI,EAAAc,kBAAA,CAAAlB,OAAO,CAACqB,QAAQ,UAAAH,kBAAA,iBAAhBA,kBAAA,CAAkBI,QAAQ,IAAK,OAAO,CAAE,CAC1C,mBACE3B,IAAA,CAACH,SAAS,EACR+B,QAAQ,CAAEV,iBAAkB,CAC5BW,QAAQ,CAAEA,CAAA,GAAMpB,WAAW,CAAC,KAAK,CAAE,CACpC,CAAC,CAEN,CACA,MACF,IAAK,SAAS,CACZ,mBACET,IAAA,CAACF,WAAW,EACVgC,MAAM,CAAE,EAAAN,kBAAA,CAAAnB,OAAO,CAACqB,QAAQ,UAAAF,kBAAA,iBAAhBA,kBAAA,CAAkBM,MAAM,GAAI,CAAE,CACtCF,QAAQ,CAAER,mBAAoB,CAC9BS,QAAQ,CAAEA,CAAA,GAAMpB,WAAW,CAAC,KAAK,CAAE,CACpC,CAAC,CAEJ,MACJ,CACA,MAAO,KAAI,CACb,CAAC,CAED,KAAM,CAAAsB,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIvB,QAAQ,CAAE,MAAO,KAAI,CAEzB,GAAIE,WAAW,GAAK,IAAI,CAAE,CACxB,mBACER,KAAA,QAAK8B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEjC,IAAA,OAAIgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACpE/B,KAAA,MAAG8B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,yBAAuB,CAACvB,WAAW,CAACwB,OAAO,CAAC,CAAC,CAAC,CAAC,YAAU,EAAG,CAAC,cAC3FlC,IAAA,MAAGgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,0EAE3C,CAAG,CAAC,EACD,CAAC,CAEV,CAEA,GAAIrB,OAAO,CAAE,CACX,mBACEV,KAAA,QAAK8B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEjC,IAAA,OAAIgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,8BAA4B,CAAI,CAAC,cAC5E/B,KAAA,MAAG8B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,mBAAiB,CAACrB,OAAO,EAAI,CAAC,cAC5DZ,IAAA,MAAGgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,8DAE3C,CAAG,CAAC,EACD,CAAC,CAEV,CAEA,GAAInB,eAAe,CAAE,CACnB,mBACEZ,KAAA,QAAK8B,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEjC,IAAA,OAAIgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAClEjC,IAAA,MAAGgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,kCAAgC,CAAG,CAAC,cAClEjC,IAAA,MAAGgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,qEAE3C,CAAG,CAAC,EACD,CAAC,CAEV,CAEA,MAAO,KAAI,CACb,CAAC,CAED,mBACE/B,KAAA,QAAK8B,SAAS,CAAE,0BAA0B1B,MAAM,CAAG,aAAa,CAAG,eAAe,OAAQ,CAAA2B,QAAA,EACvF,CAAC3B,MAAM,eACNN,IAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBjC,IAAA,CAACL,MAAM,GAAE,CAAC,CACP,CACN,cACDO,KAAA,QACE8B,SAAS,CAAE,eAAe1B,MAAM,CAAG,2BAA2B,CAAG,+CAA+C,2BAA4B,CAAA2B,QAAA,eAE5IjC,IAAA,MAAGgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAE5B,OAAO,CAAC8B,OAAO,CAAI,CAAC,cAChEnC,IAAA,SAAMgC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC5C5B,OAAO,CAAC+B,SAAS,CAACC,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAC7E,CAAC,CACNlB,UAAU,CAAC,CAAC,CACZU,YAAY,CAAC,CAAC,EACZ,CAAC,CACLzB,MAAM,eACLN,IAAA,QAAKgC,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClFjC,IAAA,CAACN,QAAQ,EAACsC,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACxC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}